{% comment %}
  Sección de Productos Destacados - Editable
{% endcomment %}

<section class="px-4 py-16 mx-auto max-w-7xl" style="background-color: {{ section.settings.background_color }};">
  <div class="mb-12">
    {% if section.settings.heading != blank %}
      <h2 class="mb-2">{{ section.settings.heading }}</h2>
    {% endif %}
    {% if section.settings.subheading != blank %}
      <p class="text-neutral-600">{{ section.settings.subheading }}</p>
    {% endif %}
  </div>
  
  {% if section.settings.collection != blank %}
    {% assign collection = collections[section.settings.collection] %}
    
    <div class="grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4">
      {% for product in collection.products limit: section.settings.products_to_show %}
        {% render 'product-card', product: product %}
      {% endfor %}
    </div>

    {% if section.settings.show_view_all %}
      <div class="mt-12 text-center">
        <a 
          href="{{ collection.url }}" 
          class="inline-block px-6 py-3 border rounded-lg border-neutral-300 hover:border-neutral-900"
        >
          Ver todos los productos
        </a>
      </div>
    {% endif %}
  {% else %}
    <div class="py-12 text-center border-2 border-dashed rounded-lg border-neutral-300">
      <p class="text-neutral-600">Selecciona una colección en la configuración del tema</p>
    </div>
  {% endif %}
</section>

{% schema %}
{
  "name": "Productos Destacados",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Título",
      "default": "Productos Destacados"
    },
    {
      "type": "text",
      "id": "subheading",
      "label": "Subtítulo",
      "default": "Los mejores componentes para tu setup"
    },
    {
      "type": "collection",
      "id": "collection",
      "label": "Colección"
    },
    {
      "type": "range",
      "id": "products_to_show",
      "min": 2,
      "max": 12,
      "step": 1,
      "label": "Productos a mostrar",
      "default": 8
    },
    {
      "type": "checkbox",
      "id": "show_view_all",
      "label": "Mostrar botón 'Ver todos'",
      "default": true
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Color de fondo",
      "default": "#ffffff"
    }
  ],
  "presets": [
    {
      "name": "Productos Destacados"
    }
  ]
}
{% endschema %}
