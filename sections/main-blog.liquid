{% comment %}
  Sección Principal de Blog
{% endcomment %}

<div class="px-4 py-16 mx-auto max-w-7xl">
  <div class="mb-12">
    <h1 class="mb-2">{{ blog.title }}</h1>
    {% if blog.description != blank %}
      <p class="text-neutral-600">{{ blog.description }}</p>
    {% endif %}
  </div>

  {% paginate blog.articles by 9 %}
    {% if blog.articles_count > 0 %}
      <div class="grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-3">
        {% for article in blog.articles %}
          <article class="flex flex-col overflow-hidden transition-all bg-white border rounded-lg border-neutral-200 hover:shadow-lg">
            {% if article.image %}
              <a href="{{ article.url }}" class="block overflow-hidden bg-neutral-50 aspect-video">
                <img 
                  src="{{ article.image | img_url: '800x600' }}" 
                  alt="{{ article.title | escape }}"
                  class="object-cover w-full h-full transition-transform duration-300 hover:scale-105"
                >
              </a>
            {% endif %}
            
            <div class="flex flex-col flex-1 p-6">
              <div class="mb-3 text-neutral-500">
                {{ article.published_at | date: "%d %B %Y" }}
              </div>
              
              <h2 class="mb-3">
                <a href="{{ article.url }}" class="hover:underline">
                  {{ article.title }}
                </a>
              </h2>
              
              {% if article.excerpt != blank %}
                <p class="mb-4 text-neutral-600">
                  {{ article.excerpt | strip_html | truncate: 150 }}
                </p>
              {% endif %}
              
              <a 
                href="{{ article.url }}" 
                class="inline-flex items-center gap-2 mt-auto text-neutral-900 hover:gap-3 transition-all"
              >
                Leer más
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                </svg>
              </a>
            </div>
          </article>
        {% endfor %}
      </div>

      {% if paginate.pages > 1 %}
        <div class="flex justify-center gap-2 mt-12">
          {% if paginate.previous %}
            <a href="{{ paginate.previous.url }}" class="px-4 py-2 border rounded-lg border-neutral-300 hover:border-neutral-900">
              Anterior
            </a>
          {% endif %}
          
          {% for part in paginate.parts %}
            {% if part.is_link %}
              <a href="{{ part.url }}" class="px-4 py-2 border rounded-lg border-neutral-300 hover:border-neutral-900">
                {{ part.title }}
              </a>
            {% else %}
              <span class="px-4 py-2 text-white bg-black border border-black rounded-lg">
                {{ part.title }}
              </span>
            {% endif %}
          {% endfor %}
          
          {% if paginate.next %}
            <a href="{{ paginate.next.url }}" class="px-4 py-2 border rounded-lg border-neutral-300 hover:border-neutral-900">
              Siguiente
            </a>
          {% endif %}
        </div>
      {% endif %}
    {% else %}
      <div class="py-16 text-center">
        <p class="text-neutral-600">No hay artículos disponibles.</p>
      </div>
    {% endif %}
  {% endpaginate %}
</div>

{% schema %}
{
  "name": "Main Blog",
  "settings": []
}
{% endschema %}
